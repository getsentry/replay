https://hub.docker.com/_/postgres
https://www.postgresqltutorial.com/psql-commands/
http://www.postgresonline.com/downloads/special_feature/postgresql83_psql_cheatsheet.pdf

`sudo service postgresql stop` stops local postgres on 5432

Image is postgres
Container name is db-postgres
--------------------------------------------

docker run -it --rm \
    --name db-postgres \
    -e POSTGRES_PASSWORD=admin \
    -e POSTGRES_USER=admin \
    -p 5432:5432 \
    postgres

docker exec -it db-postgres psql -U admin
^ or could do 8080:5432 and it wouldn't conflict?


`\l list databases`
`\c postgres` to choose db named 'postgres'

CREATE TABLE events(
   pk SERIAL PRIMARY KEY,
   type varchar(40) NOT NULL,
   name varchar(40) NOT NULL,
   data bytea,
   headers jsonb
);

ALTER TABLE events
    ADD COLUMN data BYTEA;
ALTER TABLE events
    ADD COLUMN headers JSONB;

INSERT INTO "events" (type, name)
    VALUES ('type1', 'name1');

`\dt list data tables`

select headers from events where pk=2;

-----------------------------------

limits on chars (varchar). ~10,400,000 is rough limit. TEXT type available too. JSONB
ADD COLUMN data varchar(20000); <-- limited on chars. ~10,400,000 is rough limit. TEXT type available too. JSONB

create user admin with login password 'admin';

database is called 'postgres'

-p 5432 and made sure postgresql not running locally (without docker) by `sudo lsof -i -P -n`

sqlalchemy uses LargeBinary for bytea  
psygopg2  

# rows = []
# for row in results:
#     rows.append(dict(row))
# return json.dumps(rows)





